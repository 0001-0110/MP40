@model MP40.MVC.Models.Video

@{
	ViewData["Title"] = "Edit";
	ViewData["Action"] = "Edit";
}

<h1>Edit</h1>
<partial name="ViewVideoManager" />

@section Scripts {
	@{
		await Html.RenderPartialAsync("_ValidationScriptsPartial");
	}

	<script>
		// Get the input element and preview container
		const thumbnailInput = document.getElementById('thumbnailInput');
		const thumbnailPreview = document.getElementById('thumbnailPreview');

		// Add an event listener for when the input value changes
		thumbnailInput.addEventListener('change', () => {
			// Get the selected file
			const file = thumbnailInput.files[0];

			// Create a FileReader to read the file data
			const reader = new FileReader();

			// Define the onload event handler to display the preview
			reader.onload = () => {
				// Create an image element
				const image = document.createElement('img');
				image.src = reader.result;
				image.classList.add('thumbnail-preview');

				// Clear the previous preview and append the new image
				thumbnailPreview.innerHTML = '';
				thumbnailPreview.appendChild(image);
			};

			// Read the file as a data URL
			if (file) {
				reader.readAsDataURL(file);
			}
		});
	</script>
}
